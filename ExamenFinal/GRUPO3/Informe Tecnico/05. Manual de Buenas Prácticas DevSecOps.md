# Manual de Buenas PrÃ¡cticas DevSecOps
AplicaciÃ³n Web â€“ Casa del CafÃ©
![image](https://github.com/user-attachments/assets/834f0203-7508-499d-8c6f-8213774a05c9)

## Objetivo
Establecer directrices claras para el desarrollo, despliegue y mantenimiento seguro de la aplicaciÃ³n de administraciÃ³n de servicios de hospedaje y cafeterÃ­a de Casa del CafÃ©, siguiendo principios DevSecOps, e integrando seguridad desde el inicio del ciclo de desarrollo.
## Roles involucrados (segÃºn Matriz RACI)
Desarrolladores: Responsible (R) â€“ Ejecutan las prÃ¡cticas.

LÃ­der TÃ©cnico / Arquitecto: Accountable (A) â€“ Supervisan su cumplimiento.

Equipo de Seguridad: Consulted (C) â€“ Brindan guÃ­a y validaciÃ³n.

DevOps / Infraestructura: Responsible/Accountable (R/A) â€“ Apoyan con la configuraciÃ³n segura del entorno.

Gerente de Proyecto: Informed (I) â€“ Se mantiene al tanto del estado de seguridad general.
## GuÃ­as para Desarrolladores
**ğŸ” Manejo de Credenciales y Secretos**

âŒ Evitar hardcoded secrets (ej: private $password = "root";)

âœ… Usar variables de entorno (.env) o sistemas seguros como Vault, AWS Secrets Manager o Docker secrets.

Limitar el alcance de acceso segÃºn principio de mÃ­nimos privilegios.

**ğŸ’¬ ValidaciÃ³n y SanitizaciÃ³n de Datos**

Validar toda entrada del usuario desde formularios, URLs o peticiones externas.

Utilizar funciones como htmlspecialchars() en PHP para evitar XSS.

En consultas SQL, siempre usar consultas preparadas y evitar concatenar directamente datos del usuario.

**ğŸ›¡ï¸ PrevenciÃ³n de Vulnerabilidades Comunes**

XSS (Cross-site Scripting): Escapar toda salida basada en datos dinÃ¡micos.

SQL Injection: Uso obligatorio de PDO o mysqli con bindParam() o prepare().

CSRF: Implementar tokens CSRF en formularios sensibles.

Insecure Direct Object Reference (IDOR): Validar autorizaciÃ³n en cada acciÃ³n que consulte IDs o recursos.

**ğŸ“¦ Control de Dependencias**

Usar herramientas como Snyk, Composer Audit o npm audit para escanear vulnerabilidades en librerÃ­as.

Actualizar dependencias regularmente. Evitar el uso de librerÃ­as sin soporte o desconocidas.

**ğŸ”„ IntegraciÃ³n Continua con Seguridad (CI/CD)**

Integrar anÃ¡lisis estÃ¡tico de cÃ³digo (SAST) en el pipeline de CI (ej.: SonarQube, Snyk Code).

Incorporar escaneo de imÃ¡genes Docker antes de deploy.

Validar cambios sensibles en infraestructura mediante revisiÃ³n de pull requests.

**ğŸ“ ConfiguraciÃ³n Segura del Entorno**

Entornos separados: dev, test, prod con accesos diferenciados.

Acceso al servidor y base de datos restringido por IP y autenticaciÃ³n fuerte.

No subir archivos .env, backups o configuraciones sensibles al repositorio.

**ğŸ” AuditorÃ­a y Trazabilidad**

Loguear accesos y acciones crÃ­ticas de usuarios y administradores.

Proteger los logs frente a manipulaciones.

Configurar alertas ante actividad sospechosa o intentos de acceso no autorizados.

**ğŸ” Uso de HTTPS**

Todos los entornos deben operar con HTTPS. Usar certificados vÃ¡lidos (Letâ€™s Encrypt mÃ­nimo).

No permitir contenido mixto (HTTP dentro de pÃ¡ginas HTTPS).

**ğŸš« Acceso a consola y debug en producciÃ³n**
Deshabilitar display_errors, var_dump, dd() y herramientas de debug en producciÃ³n.

ConfiguraciÃ³n segura de PHP (expose_php = Off, display_errors = Off, etc.).

